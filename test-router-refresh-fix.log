
> json-share@1.0.1 test:e2e:smoke
> ./node_modules/.bin/playwright test --grep "@smoke"

üöÄ Global setup started
üê≥ Checking Docker dependencies...
  ‚úÖ Docker daemon is running
  ‚úÖ config-postgres-1: Up 16 minutes (healthy)
  ‚úÖ config-redis-1: Up 16 minutes (healthy)
  ‚úÖ PostgreSQL is accessible
  ‚úÖ Redis is accessible
üì° Using base URL: http://localhost:3456
üì° Checking if server is available...
‚úÖ Server responded with status 200
‚úÖ Server is available
üßπ Cleaning up existing test users...
  ‚úÖ Deleted 7 existing test users
üë§ Creating test users...
  Creating user: testuser@jsonshare.test
  ‚úÖ Created user: testuser@jsonshare.test
  Creating user: admin@jsonshare.test
  ‚úÖ Created user: admin@jsonshare.test
  Creating user: dev@jsonshare.test
  ‚úÖ Created user: dev@jsonshare.test
  Creating user: power@jsonshare.test
  ‚úÖ Created user: power@jsonshare.test
  Creating user: community@jsonshare.test
  ‚úÖ Created user: community@jsonshare.test
  Creating user: temp1@jsonshare.test
  ‚úÖ Created user: temp1@jsonshare.test
  Creating user: temp2@jsonshare.test
  ‚úÖ Created user: temp2@jsonshare.test
üîç Verifying basic app functionality...
‚úÖ Main content area found
üéØ Global setup completed successfully
JSON Path Conversion Test Results
==================================================
‚úÖ Test 1: Root element
   Input:    "root"
   Expected: "$"
   Result:   "$"

‚úÖ Test 2: Simple property
   Input:    "root.name"
   Expected: "$.name"
   Result:   "$.name"

‚úÖ Test 3: Nested properties
   Input:    "root.user.profile"
   Expected: "$.user.profile"
   Result:   "$.user.profile"

‚úÖ Test 4: Array index at end
   Input:    "root.users.0"
   Expected: "$.users[0]"
   Result:   "$.users[0]"

‚úÖ Test 5: Property after array index
   Input:    "root.users.0.name"
   Expected: "$.users[0].name"
   Result:   "$.users[0].name"

‚úÖ Test 6: Multiple array indices
   Input:    "root.data.0.items.1.value"
   Expected: "$.data[0].items[1].value"
   Result:   "$.data[0].items[1].value"

‚úÖ Test 7: Property with hyphen
   Input:    "root.special-key"
   Expected: "$['special-key']"
   Result:   "$['special-key']"

‚úÖ Test 8: Property with space
   Input:    "root.special key"
   Expected: "$['special key']"
   Result:   "$['special key']"

‚úÖ Test 9: Property with special character
   Input:    "root.special@key"
   Expected: "$['special@key']"
   Result:   "$['special@key']"

‚úÖ Test 10: Property starting with number
   Input:    "root.123key"
   Expected: "$['123key']"
   Result:   "$['123key']"

‚úÖ Test 11: Mixed special and array
   Input:    "root.data.special-key.0.nested"
   Expected: "$.data['special-key'][0].nested"
   Result:   "$.data['special-key'][0].nested"

‚úÖ Test 12: Already has brackets
   Input:    "root['already-bracketed']"
   Expected: "$['already-bracketed']"
   Result:   "$['already-bracketed']"

‚úÖ Test 13: Double quoted brackets
   Input:    "root["double-quoted"]"
   Expected: "$["double-quoted"]"
   Result:   "$["double-quoted"]"

‚úÖ Test 14: Empty string
   Input:    ""
   Expected: "$"
   Result:   "$"

‚úÖ Test 15: Trailing dot
   Input:    "root."
   Expected: "$."
   Result:   "$."

‚úÖ Test 16: Deep nesting
   Input:    "root.a.b.c.d.e.f.g"
   Expected: "$.a.b.c.d.e.f.g"
   Result:   "$.a.b.c.d.e.f.g"

‚úÖ Test 17: Multiple consecutive indices
   Input:    "root.array.0.1.2.3"
   Expected: "$.array[0][1][2][3]"
   Result:   "$.array[0][1][2][3]"

‚úÖ Test 18: Complex mixed path
   Input:    "root.user-data.items.0.sub-items.1.value"
   Expected: "$['user-data'].items[0]['sub-items'][1].value"
   Result:   "$['user-data'].items[0]['sub-items'][1].value"

‚úÖ Test 19: Multiple special properties
   Input:    "root.data.user.profile-info.address.zip-code"
   Expected: "$.data.user['profile-info'].address['zip-code']"
   Result:   "$.data.user['profile-info'].address['zip-code']"

==================================================
Summary: 19 passed, 0 failed out of 19 tests
üéâ All tests passed!

Running 55 tests using 8 workers

Uploading JSON via multipart form data
‚úÖ Upload successful: {
  status: [33m200[39m,
  result: {
    success: [33mtrue[39m,
    data: { document: [36m[Object][39m, analysis: [36m[Object][39m },
    timestamp: [32m'2025-10-18T04:14:00.968Z'[39m
  }
}
‚è≥ Inputting JSON (16 characters)
‚è≥ Inputting JSON (257 characters)
  ‚úì   3 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:216:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Application is responsive @smoke (8.5s)
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ Found editor with selector: [data-testid="json-textarea"]
  ‚úì   6 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:10:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Application loads and basic navigation works (9.9s)
‚úÖ Successfully set JSON using Monaco API
‚úÖ Successfully set JSON using Monaco API
  ‚úò   4 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:73:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Authentication flow works @smoke (12.0s)
‚è≥ Waiting for JSON to be processed...
‚è≥ Waiting for JSON to be processed...
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚è≥ Inputting JSON (158924 characters)
‚è≥ Inputting JSON (1686 characters)
  ‚úò   2 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:56:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ API endpoints are responsive @smoke (17.1s)
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ Successfully set JSON using Monaco API
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ Successfully set JSON using Monaco API
‚è≥ Inputting JSON (105 characters)
‚ùå Login failed for testuser@jsonshare.test: locator.waitFor: Timeout 15000ms exceeded.
Call log:
[2m  - waiting for locator('[data-testid="sign-in-button"]') to be visible[22m

  ‚úò   5 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:97:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Library functionality works for authenticated users @smoke (19.2s)
‚è≥ Waiting for JSON to be processed...
‚è≥ Waiting for JSON to be processed...
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ Successfully set JSON using Monaco API
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚è≥ Waiting for JSON to be processed...
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
  ‚úì  12 [firefox] ‚Ä∫ tests/e2e/smoke.spec.ts:10:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Application loads and basic navigation works (7.0s)
Uploading JSON via multipart form data
‚úÖ Upload successful: {
  status: [33m200[39m,
  result: {
    success: [33mtrue[39m,
    data: { document: [36m[Object][39m, analysis: [36m[Object][39m },
    timestamp: [32m'2025-10-18T04:14:24.429Z'[39m
  }
}
‚è≥ Inputting JSON (257 characters)
Public library appears to be empty, which is acceptable
  ‚úì   1 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:193:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Public library is accessible @smoke (28.1s)
‚úÖ Found JSON content with selector: main > div > div
‚úÖ Found JSON content with selector: main > div > div
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ JSON processing wait completed
‚úÖ JSON input completed
‚úÖ JSON processing wait completed
‚úÖ JSON input completed
‚è≥ Waiting for JSON to be processed...
‚úÖ Successfully set JSON using Monaco API
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚è≥ Waiting for JSON to be processed...
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ Found JSON content with selector: main > div > div
‚úÖ Found JSON content with selector: main > div > div
‚úÖ JSON processing wait completed
‚úÖ JSON input completed
‚è≥ Waiting for JSON to be processed...
‚úÖ JSON processing wait completed
‚úÖ JSON input completed
‚è≥ Waiting for JSON to be processed...
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ Found JSON content with selector: main > div > div
‚úÖ JSON processing wait completed
‚úÖ JSON input completed
‚è≥ Waiting for JSON to be processed...
  ‚úò  15 [firefox] ‚Ä∫ tests/e2e/smoke.spec.ts:73:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Authentication flow works @smoke (10.9s)
  ‚úò  14 [firefox] ‚Ä∫ tests/e2e/smoke.spec.ts:56:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ API endpoints are responsive @smoke (15.2s)
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
  ‚úì   8 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:176:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Error handling works correctly @smoke (44.2s)
‚úÖ Found JSON content with selector: main > div > div
‚úÖ JSON processing wait completed
üîç JSON content visible: [33mtrue[39m
  ‚úì   7 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:29:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ JSON viewer accepts and displays JSON @smoke (46.2s)
‚úÖ Found JSON content with selector: main > div > div
‚è≥ Inputting JSON (16 characters)
‚úÖ JSON processing wait completed
‚úÖ JSON input completed
‚è≥ Waiting for JSON to be processed...
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ Successfully set JSON using Monaco API
  ‚úì  19 [firefox] ‚Ä∫ tests/e2e/smoke.spec.ts:216:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Application is responsive @smoke (3.5s)
‚úÖ Found JSON content with selector: main > div > div
‚è≥ Waiting for JSON to be processed...
‚úÖ Found JSON content with selector: main > div > div
‚úÖ JSON processing wait completed
  ‚úì   9 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:233:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Large JSON handling works @smoke (45.1s)
‚úÖ Loading spinner disappeared: [data-testid="loading"]:visible
‚úÖ JSON processing wait completed
  ‚úì  10 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:289:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ View modes switching works @smoke (44.4s)
‚úÖ Found JSON content with selector: main > div > div
‚è≥ Inputting JSON (158984 characters)
‚úÖ JSON processing wait completed
  ‚úì  11 [chromium] ‚Ä∫ tests/e2e/smoke.spec.ts:331:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Search functionality works @smoke (45.0s)
‚úÖ Found editor with selector: [data-testid="json-textarea"]
‚úÖ Successfully set JSON using Monaco API
‚ùå Login failed for testuser@jsonshare.test: locator.waitFor: Timeout 15000ms exceeded.
Call log:
[2m  - waiting for locator('[data-testid="sign-in-button"]') to be visible[22m

  ‚úò  16 [firefox] ‚Ä∫ tests/e2e/smoke.spec.ts:97:7 ‚Ä∫ Smoke Tests @smoke ‚Ä∫ Library functionality works for authenticated users @smoke (18.2s)
